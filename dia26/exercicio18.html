<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 18</title>
</head>

<body>
    <script>
        var contador = new Array(23);
        var totalVotos = 0;

        for (i = 0; i < contador.length; i++) {
            contador[i] = 0;
        }

        document.write("Enquete: Quem foi o melhor jogador? <br/><br/>");

        var aux = -1;
        while (aux != 0) {
            aux = parseInt(prompt("Número do jogador (0=fim): "));
            document.write("Número do jogador (0=fim): " + aux + "<br/>")
            while (aux < 1 || aux > 23) {
                if (aux === 0) {
                    break;
                }
                alert("Informe um valor entre 1 e 23 ou 0 para sair!");
                aux = parseInt(prompt("Número do jogador (0=fim): "));
                document.write("Informe um valor entre 1 e 23 ou 0 para sair!" + "<br/>")
                document.write("Número do jogador (0=fim): " + aux + "<br/>")
            }
            if (aux === 0) {
                break;
            }
            totalVotos++;
            contador[aux - 1]++;
        }

        document.write("<br/> Resultado da votação:" + "<br/>" + "<br/>");
        document.write("Foram computados " + totalVotos + " votos. <br/><br/>");
        document.write("Jogador Votos           % <br/><br/>");

        for (i = 0; i < contador.length; i++) {
            if (contador[i] > 0) {
                resultadoLinha = (i + 1) + "          " + contador[i] + "         " + ((contador[i] / totalVotos) * 100).toFixed(2) + "% <br/>";

                document.write(resultadoLinha + "<br/>");
            }
        }

        var jogadorMaisVotado = -1;
        for (i = 0; i < contador.length; i++) {
            if (contador[i] >= jogadorMaisVotado) {
                jogadorMaisVotado = i;
            }
        }

        document.write("O melhor jogador foi o número " + (jogadorMaisVotado+1) + ", com "
        + contador[jogadorMaisVotado] + " votos, correspondendo a" + ((contador[jogadorMaisVotado] / totalVotos) * 100).toFixed(2) 
        + "% do total de votos.");

    </script>
</body>

</html>